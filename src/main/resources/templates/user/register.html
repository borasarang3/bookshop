<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<head>
    <meta charset="UTF-8">
    <title>회원가입 페이지</title>

<!--    <link th:href="@{/css/register.css}" rel="stylesheet">-->

    <th:block layout:fragment="css">
        <style>
            .fieldError {
                color: red;
            }
        </style>
    </th:block>

    <!-- 사용자 스크립트 추가 -->
    <th:block layout:fragment="script">
        <script th:inline="javascript">
            $(document).ready(function (){
                var errorMessage = [[${error}]];
                if (errorMessage != null){
                    alert(errorMessage);
                }
            })
        </script>
    </th:block>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />


</head>
<body>

    <div layout:fragment="content">

        <div class="text-center form-floating mb-3 d-grid gap-2 col-6 mx-auto">
        <a class="h1" href="/" style="text-decoration: none">책,보라</a>
        </div>

        <form action="/user/register" method="post" th:object="${userDTO}">

<!--            <div class="input-group mb-3">-->
<!--                <span class="input-group-text">-->
<!--                    <i class="bi bi-person fs-3"></i>-->
<!--                </span>-->
<!--                <div class="form-floating">-->
<!--                    <input type="text" class="form-control" id="floatingInputGroup1" placeholder="Username">-->
<!--                    <label for="floatingInputGroup1">Username</label>-->
<!--                </div>-->
<!--            </div>-->

            <!-- 이름 -->
            <div class="form-floating mb-3 d-grid gap-2 col-6 mx-auto">
                <input type="text" name="user_name" th:field="*{user_name}" class="form-control" id="floatingInput user_name" placeholder="이름">
                <label for="floatingInput user_name">
                    <i class="fa-regular fa-circle-user"></i> 이름
                </label>
            </div>

            <!-- 아이디 -->
            <div class="form-floating mb-3 d-grid gap-2 col-6 mx-auto">
                <input type="text" name="user_id" th:field="*{user_id}" class="form-control" id="floatingInput userid" placeholder="아이디">
                <label for="floatingInput userid">
                    <i class="fa-regular fa-user"></i> 아이디
                </label>
            </div>

            <!-- 비밀번호 -->
            <div class="form-floating mb-3 d-grid gap-2 col-6 mx-auto">
                <input type="text" name="user_pw" th:field="*{user_pw}" class="form-control" id="floatingInput userpw" placeholder="비밀번호">
                <label for="floatingInput userpw">
                    <i class="bi bi-lock"></i> 비밀번호
                </label>
            </div>

            <!-- 비밀번호 확인 -->
            <div class="form-floating mb-3 d-grid gap-2 col-6 mx-auto">
                <input type="text" name="user_pw2" class="form-control" id="floatingInput userpw2" placeholder="비밀번호 확인">
                <label for="floatingInput userpw2">
                    <i class="bi bi-lock"></i> 비밀번호 확인
                </label>
            </div>

            <!-- 주소 -->
            <div class="form-floating mb-3 d-grid gap-2 col-6 mx-auto">
                <input type="text" name="address" th:field="*{address}" class="form-control" id="floatingInput address" placeholder="주소">
                <label for="floatingInput address">
                    <i class="bi bi-house-door"></i> 주소
                </label>
            </div>

            <!-- 권한 -->
            <div class="form-floating mb-3 d-grid gap-2 col-6 mx-auto"> <!--값 오는 거 확인 후 히든으로 바꾸기-->
                <input type="text" name="role" th:field="*{role}" class="form-control" id="floatingInput role" placeholder="권한">
                <label for="floatingInput role">
                    <i class="fa-solid fa-user-shield"></i> 권한
                </label>
            </div>


            <p th:if="${#fields.hasErrors('user_name')}" th:errors="*{user_name}" class="fieldError">

            </p>
            <p th:if="${#fields.hasErrors('user_id')}" th:errors="*{user_id}" class="fieldError">

            </p>
            <p th:if="${#fields.hasErrors('user_pw')}" th:errors="*{user_pw}" class="fieldError">

            </p>
            <p th:if="${#fields.hasErrors('address')}" th:errors="*{address}" class="fieldError">

            </p>
            <p th:if="${#fields.hasErrors('role')}" th:errors="*{role}" class="fieldError">

            </p>



            <div class="d-grid gap-2 col-6 mx-auto">
                <button type="button" class="btn btn-primary">회원가입</button>
            </div>


        </form>



    </div>

</body>
</html>