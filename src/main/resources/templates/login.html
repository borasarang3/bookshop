<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<head>
    <meta charset="UTF-8">
    <title>로그인 페이지</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <th:block layout:fragment="css">
        <style>
            .fieldError {
                color: red;
            }
        </style>
    </th:block>


</head>
<body>

<div layout:fragment="content">

    <div class="text-center form-floating mb-3 d-grid gap-2 col-6 mx-auto">
        <a class="h1" href="/" style="text-decoration: none">책,보라</a>
    </div>

    <div class="row">
        <div>
            <div class="login-panel panel panel-default">

                <!--시큐리티는 로그인이 실패할 경우 리다이렉트 됨, 에러일 경우 error와 함께 전달됨-->

                <div class="panel-body">
                    <form role="form" action="/login" method="post">

                        <fieldset>
                            <div class="form-floating mb-3 d-grid gap-2 col-6 mx-auto">
                                <input type="text" name="userId" class="form-control" id="floatingInput userid" placeholder="아이디">
                                <label for="floatingInput userid">
                                    <i class="fa-regular fa-userMember"></i> 아이디
                                </label>
                            </div>

                            <div class="form-floating mb-3 d-grid gap-2 col-6 mx-auto">
                                <input type="password" name="password" class="form-control" id="floatingInput userpw" placeholder="비밀번호">
                                <label for="floatingInput userpw">
                                    <i class="bi bi-lock"></i> 비밀번호
                                </label>
                            </div>

                            <div th:if="${loginErrorMsg}" class="alert alert-light mb-3 d-grid gap-2 col-6 mx-auto" role="alert">
                                <p th:text="${loginErrorMsg}" class="fieldError"></p>
                            </div>


                            <div class="d-grid gap-2 col-6 mx-auto">
                                <button type="submit" class="btn btn-primary">로그인</button>
                            </div>

                            <ul class="nav justify-content-center">
                                <li class="nav-item">
                                    <a class="nav-link link-secondary" href="/login/findID">아이디 찾기</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link link-secondary" href="/login/findPW">비밀번호 찾기</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link link-secondary" href="/user/register">회원가입</a>
                                </li>
                            </ul>

                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>

</div>

</body>
</html>